<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Edit Profil</title>
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
</head>
<body>
  <div class="wrapper">

    <!-- NAVBAR -->
    <div class="navbar">
      <i class="fas fa-home"></i>
      <i class="fas fa-user"></i>
      <i class="fas fa-bell"></i>
    </div>
  
    <!-- CARD FORM -->
    <div class="container">
      <!-- FORM KIRI -->
      <div class="form-section">
        <div class="form-group">
          <label for="nama">Nama</label>
          <input type="text" id="nama">
        </div>
        <div class="form-group">
          <label for="nim">NIM</label>
          <input type="text" id="nim">
        </div>
        <div class="form-group">
          <label for="jurusan">Jurusan</label>
          <input type="text" id="jurusan">
        </div>
        <div class="form-group">
          <label for="prodi">Prodi</label>
          <input type="text" id="prodi">
        </div>
      </div>
  
      <!-- PROFIL KANAN -->
      <div class="profile-section">
        <div class="profile-wrapper">
          <!-- Foto profil -->
          <img src="img/default.png" alt="Profile" class="profile-img" id="profile-img">
          
          

          <!-- Ikon pensil -->
          <div class="edit-icon" id="editBtn">
            <i class="fas fa-pencil-alt"></i>
          </div>

          <!-- Dropdown menu -->
          <div class="profile-menu" id="profileMenu">
            <button onclick="triggerFileInput()">Change profile</button>
            <button onclick="deleteProfile()">Delete</button>
          </div>

          <!-- Input file (hidden) -->
          <input type="file" id="fileInput" accept="image/*" style="display: none;">

          
        </div>

        <!-- Tombol Logout -->
        <button class="logout-btn">Logout</button>
      </div>
    </div>
  </div>

  <script>
    const editBtn = document.getElementById("editBtn");
    const menu = document.getElementById("profileMenu");
    const fileInput = document.getElementById("fileInput");
    const profileImg = document.getElementById("profile-img");

    // klik ikon pensil → toggle menu
    editBtn.addEventListener("click", (e) => {
      e.stopPropagation();
      menu.style.display = menu.style.display === "block" ? "none" : "block";
    });

    // klik di luar → nutup menu
    document.addEventListener("click", (e) => {
      if (!menu.contains(e.target) && !editBtn.contains(e.target)) {
        menu.style.display = "none";
      }
    });

    // buka file picker
    function triggerFileInput() {
      fileInput.click();
    }

    // update foto setelah pilih file
    fileInput.addEventListener("change", (event) => {
      const file = event.target.files[0];
      if (file) {
        const reader = new FileReader();
        reader.onload = (e) => {
          profileImg.src = e.target.result; // ganti foto profil
        };
        reader.readAsDataURL(file);
      }
    });

    // hapus foto → jadi default
    function deleteProfile() {
      if (confirm("Apakah yakin ingin menghapus foto profil?")) {
        profileImg.src = "img/default.png";

        profileImg.onerror = () => {
      console.error("⚠️ Gambar default.png tidak ditemukan di folder /img/");
      alert("File default.png tidak ada. Pastikan letaknya di folder /img/");
    };
      }
    }
  </script>
  
</body>


</html>
